<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 6.0.7.3 (Linux)"/>
	<meta name="created" content="2019-10-31T13:15:29.595678822"/>
	<meta name="changed" content="2019-11-08T14:10:32.752443456"/>
</head>
<body lang="es-ES" dir="ltr">
<p><b><font size="6" style="font-size: 22pt">SHH</font> </b>
</p>
<p><font size="5" style="font-size: 18pt"><u><b>EJERCICIO 1</b></u></font></p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">1.Busca
información en Internet de como montar un servidor telnet, bien en
Windows o bien en GNU/Linux .</font></font></p>
<ol>
	<li/>
<p><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-weight: normal">Para
	comenzar la instalación abrimos la terminal y ejecutamos el comando
	</span></font></font></span><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><i><span style="font-weight: normal">sudo
	apt update</span></i></font></font></span><span style="text-decoration: none">
	</span><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-weight: normal">para
	actualizar</span></font></font></span></p>
	<li/>
<p><img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-11-27.png" name="Imagen1" align="left" width="586" height="409">
  <br clear="left"/>
</img>
<span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-weight: normal">seguidamente
	el comando </span></font></font></span><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><i><span style="font-weight: normal">sudo
	apt install telnetd</span></i></font></font></span></p>
</ol>
<p><img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-12-47.png" name="Imagen2" align="left" width="580" height="286">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<ol start="3">
	<li/>
<p><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><i><span style="font-weight: normal">sudo
	etc/init.d/openbsd-inetd restart </span></i></font></font></span><span style="font-variant: normal"><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">para
	reiniciar el telnet</span></span></font></font></span></span></p>
</ol>
<p><img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-15-30.png" name="Imagen4" align="left" width="525" height="318">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<ol start="4">
	<li/>
<p><span style="font-variant: normal"><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><i><span style="font-weight: normal">nmap
	localhost </span></i></font></font></span></span><span style="font-variant: normal"><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">para
	buscar todos los programas parecidos a telnetd</span></span></font></font></span></span></p>
	<p><img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-14-25.png" name="Imagen3" align="left" width="546" height="437">
  <br clear="left"/>
</img>
</p>
</ol>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<ol start="4">
	<li/>
<p style="font-variant: normal; font-style: normal; font-weight: normal; text-decoration: none">
	<img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-16-56.png" name="Imagen5" align="left" width="591" height="362">
  <br clear="left"/>
</img>
<font face="sans-serif"><font size="3" style="font-size: 13pt">sudo
	apt-cache search telnetd para buscar donde se ha guardo el telnetd</font></font></p>
	<li/>
<p style="font-variant: normal; font-style: normal; font-weight: normal; text-decoration: none">
	<font face="sans-serif"><font size="3" style="font-size: 13pt">Para
	comprobar que ha sido instalado correctamente nos iremos al terminal
	de ubuntu y pondemos el comando telnet 192.168.18.202</font></font></p>
	<p><img src="/home/manana/Im%C3%A1genes/Captura%20de%20pantalla%20de%202019-10-31%2014-19-58.png" name="Imagen6" align="left" width="535" height="354">
  <br clear="left"/>
</img>
</p>
</ol>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">2.Una
vez instalado lanza el sniffer wireshark y atrapa una conexión
telnet. Indica que puertos utiliza tanto el servidor como el cliente,
así como los protocolos usados en las distintas capas.</font></font></p>
<ol>
	<li/>
<p>Nos metemos en la terminal y ponemos el comando <i>sudo
	wireshark </i>
	</p>
	<li/>
<p><img src="SHH.HTML_html_2631ac890bd5d456.png" name="Imagen7" align="left" width="427" height="173">
  <br clear="left"/>
</img>
En
	la terminal poner <i>telnet 192.168.18.202</i></p>
</ol>
<p><img src="SHH.HTML_html_5bc457a092566d2f.png" name="Imagen8" align="left" width="387" height="232">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<ol start="3">
	<li/>
<p>Nos vamos wireshark, paramos el tráfico que hemos generado
	y buscamos telnet</p>
</ol>
<p><img src="SHH.HTML_html_42cbffab156a61fc.png" name="Imagen9" align="left" width="485" height="355">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<ol start="3">
	<li/>
<p>Pinchamos en una de la direcciones telnet de nuestra ip
	192.168.18.202. Le damos clip derecho y pinchamos en follow, se nos
	abrirá una pestaña en la que haremos clip en TCP Stream, donde nos
	muestra los datos del flujo TCP</p>
</ol>
<p><br/>
<br/>

</p>
<p><img src="SHH.HTML_html_28d9629f71d3baf6.png" name="Imagen10" align="left" width="656" height="303">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">3.Indica
los datos mas relevantes de cada capa.</font></font></p>
<p><img src="SHH.HTML_html_7937dde0d9c8ef35.png" name="Imagen11" align="left" width="631" height="429">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">4.Calcula
el tamaño de cada capa, separando el payload de la cabecera.</font></font></p>
<p><br/>
<br/>

</p>
<p><img src="SHH.HTML_html_7937dde0d9c8ef35.png" name="Imagen12" align="left" width="554" height="401">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><img src="SHH.HTML_html_83f211565363446b.gif" name="Imagen16" align="left" width="81" height="11" border="0"/>
<font face="sans-serif"><font size="3" style="font-size: 13pt">5.Comprueba
que login y contraseña viajan en texto plano.</font></font></p>
<p><img src="SHH.HTML_html_1aabad67c9b8b488.png" name="Imagen13" align="left" width="680" height="283">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">6.Crea
en el equipo remoto un directorio, un archivo de texto y
posteriormente borralos.</font></font></p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="SHH.HTML_html_4371e5ee7580d06b.png" name="Imagen15" align="left" width="461" height="312">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><img src="SHH.HTML_html_58db98ae87635f6d.png" name="Imagen14" align="left" width="469" height="314">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p style="text-decoration: none"><font face="sans-serif"><font size="5" style="font-size: 18pt"><u><b>EJERCICIO
2</b></u></font></font></p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">1.Instala
un servidor SSH en tu sistema GNU/Linux y comprueba que el puerto 22
esta en escucha.</font></font></p>
<p style="margin-bottom: 0cm"><img src="SHH.HTML_html_ca104e3498559121.png" name="Imagen19" align="left" width="450" height="309">
  <br clear="left"/>
</img>
<br/>

</p>
<p><img src="SHH.HTML_html_ace2e921711803fa.png" name="Imagen26" align="left" width="445" height="305" border="0"/>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">2.Crea
dos usuarios denominados usuario1 y usuario2, que vas a usarlos en el
ejercicio.Para crear los usuarios utilizamos el comando adduser</font></font></p>
<p style="font-weight: normal; text-decoration: none"><img src="SHH.HTML_html_c6e8012147cd1129.png" name="Imagen17" align="left" width="601" height="152">
  <br clear="left"/>
</img>
<font face="sans-serif"><font size="3" style="font-size: 13pt">3.Comprueba
que puedes acceder mediante ssh a esos usuarios.</font></font></p>
<p><img src="SHH.HTML_html_4cb32e2993fd1c8d.png" name="Imagen18" align="left" width="680" height="420" border="0"/>
<br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">4.Cambia
el puerto del servidor e intenta a acceder de nuevo.</font></font></p>
<p><br/>
<br/>

</p>
<p><img src="SHH.HTML_html_f7bab73730acfd54.png" name="Imagen20" align="left" width="449" height="298">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">5.Cambia
la configuración del servidor para que puedas acceder al sistema con
usuario1 y NO con usuario2.</font></font></p>
<p><img src="SHH.HTML_html_564161749dc7b943.png" name="Imagen21" align="left" width="484" height="311">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">6.Cambia
la configuración del servidor para que solo pueda acceder desde una
IP determinada.</font></font></p>
<p><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-weight: normal">Ponemos
el comnado sudo nano </span></font></font></span><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><i><span style="font-weight: normal">etc/</span></i></font></font></span><span style="font-variant: normal"><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-style: normal"><span style="font-weight: normal">ssh/sshd_config</span></span></font></font></span></span></p>
<p style="font-variant: normal; font-style: normal; font-weight: normal; text-decoration: none">
<font face="sans-serif"><font size="3" style="font-size: 13pt">Cuando
estamos dentro ponemos al final del todo AllowUser pi usuario1</font></font></p>
<p><img src="SHH.HTML_html_fdf5a1dcabd0554a.png" name="Imagen22" align="left" width="460" height="279">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><img src="SHH.HTML_html_fdf5a1dcabd0554a.png" name="Imagen23" align="left" width="449" height="301">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p style="font-weight: normal; text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt">7.Captura
con wireshark una conexión ssh, comprueba que login y contraseña
van encriptada. Analiza cada una de las capas TCP/IP implicadas
indicando los datos mas relevantes,además del tamaño de cada capa,
separando datos y cabecera</font></font></p>
<p align="justify"><span style="text-decoration: none"><font face="sans-serif"><font size="3" style="font-size: 13pt"><span style="font-weight: normal">Abriremos
Wireshark y no hiremos en la terminal y pondremos el comando ssh
<a href="mailto:pi@192.168.18.202">pi@192.168.18.202</a> para crear
tráfico en Wireshark. Cuando hayamos generado tráfico pinchamos en
la fila SSH y le daremos botón derecho a follow y a TCP Stram</span></font></font></span></p>
<p><img src="SHH.HTML_html_ca104e3498559121.png" name="Imagen24" align="left" width="564" height="109" border="0"/>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="SHH.HTML_html_8f234b19a25a966d.png" name="Imagen25" align="left" width="472" height="378" border="0"/>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
</body>
</html>